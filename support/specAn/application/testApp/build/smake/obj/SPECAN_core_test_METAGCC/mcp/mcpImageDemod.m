% MCP load function generated by mcpal  4.11.0
function mcpImageDemod(DA, hardReset, loadType, showProgress)
% Program specific load parameters
elfFileName = 'mcpImageDemod.elf';
AmemBase = hex2dec('00000000');
BmemBase = hex2dec('00000000');
LmemBase = hex2dec('00017000');
% default input arguments
if nargin < 2
    hardReset = true;
end
if nargin < 3
    loadType = 0; % load all
end
if nargin < 4
    showProgress = true;
end
% reset target
if hardReset
    DA.h.HardReset();
end
% select target to MCP
flag = DA.daFindTarget('MCP');
if ~flag
    error('Fail to connect to MCP');
end
MEMTYPE_PERIPH = 10;
MCP_MEM_REMAP_B_CTRL = hex2dec('0009');
UCC_GLOBAL_RAM_MCP1_REGION_L_BASE = hex2dec('3A08');
UCC_GLOBAL_RAM_MCP1_REGION_A_BASE = hex2dec('3A09');
UCC_GLOBAL_RAM_MCP1_REGION_B_BASE = hex2dec('3A0A');
UCC_GLOBAL_RAM_MCP1_MEM_REMAP_CTRL = hex2dec('3A0B');
DA.h.WriteLong(MCP_MEM_REMAP_B_CTRL, 0, MEMTYPE_PERIPH);
DA.h.WriteLong(UCC_GLOBAL_RAM_MCP1_REGION_A_BASE, bitshift(AmemBase, 8), MEMTYPE_PERIPH);
DA.h.WriteLong(UCC_GLOBAL_RAM_MCP1_REGION_B_BASE, bitshift(BmemBase, 8), MEMTYPE_PERIPH);
DA.h.WriteLong(UCC_GLOBAL_RAM_MCP1_REGION_L_BASE, bitshift(LmemBase, 8), MEMTYPE_PERIPH);
DA.h.WriteLong(UCC_GLOBAL_RAM_MCP1_MEM_REMAP_CTRL, 0, MEMTYPE_PERIPH);
% load program file
HDRESET = 0;
DA.h.LoadProgramFileEx(elfFileName, HDRESET, loadType, showProgress);
return
